<html>
  <head>
      <script src="/socket.io/socket.io.js"></script>
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          let r = Math.floor(Math.random() * 255)
          document.querySelector('span').style.color = 'hsl(' + r + ', 90%, 40%)'
          document.querySelector('body').style.background = 'hsl(' + r + ', 90%, 60%)'

          var socket = io();

          socket.on('text', function(data){
            console.log('text', data)
            r += 40 + Math.floor(Math.random() * 50)
            if (r > 255) { r = r - 255 }
            document.querySelector('span').style.color = 'hsl(' + r + ', 90%, 40%)'
            document.querySelector('body').style.background = 'hsl(' + r + ', 90%, 80%)'

            document.querySelector('span').innerHTML = data.text
          });
        })
      </script>
      <style>
        body {
          display: flex;
          align-items: center;
          justify-content: center;
          text-align: center;
          padding: 64px;
          font-size: 7rem;
          font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
        }
      </style>
  </head>
  <body>
    <span>:)</span>
  </body>
</html>
